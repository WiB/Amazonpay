<!-- Place this code in your HTML where you would like the wallet widget to appear. -->
<div id="walletWidgetDiv"> </div>

<style>
    #walletWidgetDiv {
        min-width: 300px;
        width: 100%;
        max-width: 900px;
        min-height: 228px;
        height: 240px;
        max-height: 400px;
    }
</style>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script> {#@todo shouldn't be done this way#}
<script>
    window.onAmazonLoginReady = function() {
        amazon.Login.setClientId('{{ amazonConfig.clientId }}');
    };

    window.onAmazonPaymentsReady = function() {
        console.log('amazonpay ready');

        new OffAmazonPayments.Widgets.Wallet({
            sellerId: '{{ amazonConfig.sellerId }}',
            scope: 'profile postal_code payments:widget payments:shipping_address',
            onPaymentSelect: function(orderReference) {
                console.log('amazonpay rules');
                $('#amazonpay_place_order_link').attr('disabled', false);
            },
            design: {
                designMode: 'responsive'
            },
            onError: function(error) {
            }
        }).bind("walletWidgetDiv");
    };
</script>

<script async="async"
        src='https://static-eu.payments-amazon.com/OffAmazonPayments/eur/sandbox/lpa/js/Widgets.js'>
</script>